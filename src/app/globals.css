@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
  /* Mobile-first responsive variables */
  --mobile-padding: 1rem;
  --tablet-padding: 1.5rem;
  --desktop-padding: 2rem;
  --touch-target-min: 44px;
  --header-height-mobile: 64px;
  --header-height-desktop: 80px;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --font-bebas: var(--font-bebas-neue);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

* {
  box-sizing: border-box;
}

html {
  /* Prevent horizontal scroll on mobile */
  overflow-x: hidden;
  /* Smooth scrolling */
  scroll-behavior: smooth;
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
  /* Prevent text size adjustments on mobile */
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
  /* Improve font rendering */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  /* Remove default margin */
  margin: 0;
  padding: 0;
  /* Prevent horizontal overflow */
  overflow-x: hidden;
}

/* Responsive mathematical content styling */
.math-content {
  line-height: 1.6;
  /* Mobile-first responsive text sizing */
  font-size: 0.9rem;
}

@media (min-width: 640px) {
  .math-content {
    font-size: 1rem;
  }
}

@media (min-width: 1024px) {
  .math-content {
    font-size: 1.1rem;
  }
}

.math-content .activity-name {
  @apply font-bold text-lg text-gray-700 border-l-4 border-gray-500 pl-3 mb-4 bg-gray-50 py-2 rounded-r;
}

/* Enhanced styling for mathematical expressions */
.math-container {
  @apply inline-block;
}

.math-display {
  @apply block text-center my-4;
}

.math-inline {
  @apply inline-block mx-1;
}

/* Mathematical expression borders and backgrounds */
.math-container.border {
  @apply bg-slate-50 border-slate-200 rounded-lg p-3;
}

/* MathJax responsive styling adjustments */
mjx-container {
  @apply my-1;
  /* Prevent overflow on mobile */
  overflow-x: auto;
  overflow-y: hidden;
  max-width: 100%;
}

mjx-container[display="true"] {
  @apply my-2 sm:my-4;
  /* Scale math expressions on mobile */
  font-size: 0.9em;
}

@media (min-width: 640px) {
  mjx-container[display="true"] {
    font-size: 1em;
  }
}

/* Mobile-friendly touch targets */
.touch-target {
  min-height: var(--touch-target-min);
  min-width: var(--touch-target-min);
  @apply flex items-center justify-center;
}

/* Responsive container utilities */
.mobile-container {
  @apply px-4 mx-auto;
  max-width: 100%;
}

.tablet-container {
  @apply px-6 mx-auto;
  max-width: 768px;
}

.desktop-container {
  @apply px-8 mx-auto;
  max-width: 1200px;
}

/* Safe area support for mobile devices */
.safe-area {
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}

/* Responsive modal adjustments */
.modal-mobile {
  @apply fixed inset-0 z-50;
  padding: var(--mobile-padding);
}

@media (min-width: 768px) {
  .modal-mobile {
    @apply flex items-center justify-center;
    padding: var(--tablet-padding);
  }
}

/* Hide scrollbar but keep functionality */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* Focus styles for accessibility */
.focus-visible {
  @apply outline-none ring-2 ring-gray-500 ring-offset-2;
}

/* Mobile layout distortion fixes */
.mobile-no-stretch {
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
  word-wrap: break-word;
  overflow-wrap: break-word;
  hyphens: auto;
}

/* Prevent horizontal scrolling issues */
.mobile-content {
  width: 100%;
  max-width: 100vw;
  overflow-x: hidden;
  word-break: break-word;
}

/* Mobile-optimized text rendering */
.text-render-optimized {
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

@media (max-width: 768px) {
  .text-render-optimized {
    font-size: 16px; /* Prevent iOS zoom on input focus */
    line-height: 1.5;
  }
  
  /* Better mobile spacing */
  .mobile-spacing > * + * {
    margin-top: 1rem;
  }
  
  /* Mobile-friendly list items */
  .mobile-list li {
    padding: 0.5rem 0;
    border-bottom: 1px solid #f3f4f6;
    word-wrap: break-word;
  }
  
  .mobile-list li:last-child {
    border-bottom: none;
  }
}

/* Print styles */
@media print {
  .no-print {
    display: none !important;
  }
  
  body {
    font-size: 12pt;
    line-height: 1.4;
  }
  
  .print-break {
    page-break-before: always;
  }
}
